<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>PriorityTask</title>

    <meta name="viewport" content="width=device-width; initial-scale=1.0;" />
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="index.css" />
  </head>

  <body>
    <nav class="navbar">
      <div class="container-fluid d-flex justify-content-center">
        <ul class="nav justify-content-center">
          <a class="navbar-brand" href="#"> PrioritiTask </a>
        </ul>
      </div>
    </nav>

    <div
      class="container mt-5"
      style="text-align: center; text-justify: distribute"
    >
      <div class="row">
        <div class="col-md-12">
          <div class="jumbotron">
            <h1
              class="display-4"
              style="font-size: 50px; font-family: Roboto; font-weight: bold"
            >
              Homework Isn't
              <span style="color: #f05454">Nightmare</span> Anymore
            </h1>
            <p class="lead">
              Your Ultimate Task Manager for Enhanced Productivity. Say goodbye
              to the chaos of juggling assignments and deadlines. PrioritiTask
              empowers you to effortlessly prioritize and manage tasks, ensuring
              that you stay on top of your academic game. From task scheduling
              to progress tracking, it's your academic companion for stress-free
              success
            </p>
            <hr class="mt-5" />
          </div>
        </div>
        <div class="container" style="margin-top: -5%">
          <form class="row">
            <div class="col-md-3 my-2">
              <input
                type="text"
                class="form-control"
                placeholder="Name of task..."
                name="taskName"
              />
            </div>
            <div class="col-md-2 my-2">
              <input
                type="text"
                class="form-control"
                placeholder="Subject..."
                name="subject"
              />
            </div>
            <div class="col-md-2 my-2">
              <input type="date" class="form-control" name="deadline" />
            </div>
            <div class="col-md-2 my-2">
              <select class="form-control" name="importance">
                <option value="Importance">Importance</option>
                <option value="Not importance">Not Importance</option>
              </select>
            </div>
            <div class="col-md-2 my-2">
              <select class="form-control" name="urgency">
                <option value="Urgent">Urgent</option>
                <option value="Not urgent">Not Urgent</option>
              </select>
            </div>
            <div class="col-md-1 my-2">
              <button type="button" class="btn" onclick="addTask()">
                <i class="bi-plus-circle-fill"></i>
              </button>
            </div>
          </form>
          <button type="button" class="btn my-5" onclick="generateGraph()">
            Generate Table
          </button>
        </div>
      </div>
    </div>
    <script>
      // Function to add a task to MySQL
      function addTask() {
        const taskName = document.getElementById("taskName").value;
        const subject = document.getElementById("subject").value;
        const deadline = document.getElementById("deadline").value;
        const importance = document.getElementById("importance").value;
        const urgency = document.getElementById("urgency").value;

        // Send data to the server using Fetch API
        fetch("/addTask", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            taskName,
            subject,
            deadline,
            importance,
            urgency,
          }),
        })
          .then((response) => response.json())
          .then((data) => {
            console.log("Task added successfully:", data);
            // You may want to update the UI or show a success message
          })
          .catch((error) => {
            console.error("Error adding task:", error);
            // Handle error, e.g., show an error message to the user
          });
      }
    </script>
  </body>
</html>
